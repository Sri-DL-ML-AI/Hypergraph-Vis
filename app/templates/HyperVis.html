<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" type="text/css" href="../static/css/layout-bootstrap.css"/>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Hypergraph Visualization</title>

  {% assets "js" %}
  <script type="text/javascript" src="{{ ASSET_URL }}" defer></script>
  {% endassets %}
  {% assets "css" %}
  <link rel="stylesheet" href="{{ ASSET_URL }}"/>
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  {% endassets %}
</head>

<body style="overflow: scroll">
<div class="header-group">
  <!--  Header -->
  <div id="main_title">
    <h4>Hypergraph Visualization:</h4>
    <h4>Multiscale Simplification and Multimodal Curation</h4>
  </div>

  <!--  Dataset import-->
  <div id="files_group">
    <div class="import-group">
      <form method="post" id="upload" enctype="multipart/form-data" action="">
        <input type="file" style="display:none" id="files" name="files">
        <input type="button" class="btn btn-outline-dark btn-block ui-form-button" id="import"
               value="Import A Dataset">
      </form>
    </div>
  </div>

  <div id="modality-btn-group">
    <button id="add-edge-modality" class="btn btn-outline-dark ui-form-button">Add edge modality</button>
    <button id="add-vertex-modality" class="btn btn-outline-dark ui-form-button">Add vertex modality</button>
  </div>
</div>

<!--<div id="home">-->
<!--  <i class="fa fa-home"></i>-->
<!--</div>-->

<div id="modality-container" class="container-fluid">
  <!--  Each row holds one modality -->
  <div class="row">
    <!--  Barcode widget  -->
    <div id="barcode-area" class="col-sm-2 barcode-container">
      <div class="group-title">Barcode</div>
      <div id="barcode-threshold">Current threshold: 0</div>
      <div id="vis-barcode" class="svg-container" style="overflow: scroll">
        <svg id="barcode-svg"></svg>
      </div>
      <div class="help-tip" id="help-tip"><h6>Selected Hyperedges</h6>
      </div>
    </div>

    <!--  Four panel layout for graphs and hypergraphs  -->
    <div id="vis-area" class="col-sm-8" style="padding-bottom:3px;">

      <!--  Panels: Hypergraph, LineGraph  -->
      <div class="row">

        <!--  Hypergraph  -->
        <div class="col-md-6 outline">
          <div class="graph-title">Input hypergraph</div>
          <div style="border-right: 1px solid rgb(224,224,224);">
            <div id='vis-hypergraph' class="graph-container">
              <svg id="hypergraph-svg"></svg>
            </div>
          </div>
        </div>

        <!--  Linegraph  -->
        <div class="col-md-6 outline">
          <div class="graph-title" id="vis-linegraph-title">Line graph</div>
          <div class="graph-container" id='vis-linegraph'>
            <svg id="linegraph-svg"></svg>
          </div>
        </div>

      </div>

      <!--  Panels: Simplified Hypergraph, Simplified LineGraph  -->
      <div class="row">

        <!--  Simplified Hypergraph  -->
        <div class="col-md-6 outline">
          <div class="graph-title">Output simplified hypergraph</div>
          <div style="border-right: 1px solid rgb(224,224,224);">
            <div id='vis-simplified-hypergraph' class="graph-container">
              <svg id="simplified-hypergraph-svg"></svg>
            </div>
          </div>
        </div>

        <!--  Simplified Linegraph  -->
        <div class="col-md-6 outline">
          <div class="graph-title" id="vis-simplified-linegraph-title">Simplified line graph</div>
          <div id='vis-simplified-linegraph' class="graph-container">
            <svg id="simplified-linegraph-svg"></svg>
          </div>
        </div>
      </div>

    </div>

    <!--  Control area  -->
    <div id="control-area" class="col-sm-2 control-container">

      <!--  Visual Encoding Controls  -->
      <div id="visual-encoding-control" class="block" style="margin-bottom: 10px;">
        <div class="block_title">Visual Encoding Control</div>
        <div class="block_body" style="max-height: 1000px">
          <div class="block_body-inner">
            <div class="block-inner-group">
              <div class="row">
                <div class="col-1">
                  <input type="checkbox" id="hgraph-labels">
                </div>
                <div class="col-10">
                  Show <a class="group-title">labels</a>
                </div>
              </div>
            </div>
            <div class="block-inner-group" style=" border-bottom: none;">
              <div class="group-title">Hypergraph visualization</div>
              <div class="visual-encoding-group">
                <form id="visual-encoding-form">
                  <div class="radio-container">
                    <input type="radio" class="form-radio" name="visual-type" value="bipartite"
                           id="bipartite">
                    <label for="bipartite" class="radio_label">Bipartite graph</label>
                  </div>
                  <div class="radio-container">
                    <input type="radio" class="form-radio" name="visual-type" value="convex"
                           id="convex" checked="checked">
                    <label for="convex" class="radio_label">Convex hulls</label>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Parameter controls -->
      <div id="parameter-control" class="block">
        <div class="block_title">Parameter Control</div>
        <div class="block_body" style="max-height: 1000px">
          <div class="block_body-inner">
            <div class="block-inner-group">

              <!--  Collapse vertices and edges  -->
              <div class="row">
                <div class="col-1">
                  <input type="checkbox" id="hgraph-type" checked="true">
                </div>
                <div class="col-10">
                  <a class="group-title">Collapse</a> vertices & hyperedges
                </div>
              </div>

            </div>

            <!--  Modality selection -->
            <div class="block-inner-group">
              <div class="group-title">Graph representation</div>
              <form id="variant-type-form">
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="variant-type" value="line_graph"
                         id="line_graph" checked="checked">
                  <label for="line_graph" class="radio_label">Edge simplification</label>
                </div>
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="variant-type" value="clique_expansion"
                         id="clique_expansion">
                  <label for="clique_expansion" class="radio_label">Vertex simplification</label>
                </div>
              </form>
            </div>

            <div class="block-inner-group">

              <!--  Edge threshold -->
              <div class="group-title" id="s-group-title">Edge threshold</div>
              <div class="ui-form-range">
                <label class="ui-form-range__label">s</label>
                <span class="ui-form-range__value" id="s-walk_label">1</span>
                <div id="s-range-container">
                  <div id="s-range-container-inner" style="padding:0;">
                    <span id="s-range-span"><input type="number" id="s-range" min="1" value="10"></span>
                  </div>
                </div>
                <input class="ui-form-range__input" id="s-walk_input" name="s-walk" type="range" value="1" max="10"
                       min="1" step="1">
              </div>
              <br>

              <!--  Clean singletons -->
              <form id="singleton-type-form">
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="singleton-type" value="grey_out"
                         id="grey_out" checked="checked">
                  <label for="grey_out" class="radio_label">Grey out singletons</label>
                </div>
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="singleton-type" value="filtering"
                         id="filtering">
                  <label for="filtering" class="radio_label">Filter singletons</label>
                </div>
              </form>
            </div>

            <!--  Weight type  -->
            <div class="block-inner-group">
              <div class="group-title">Weight type</div>
              <form id="weight-type-form">
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="weight-type" value="jaccard_index"
                         id="jaccard_index" checked="checked">
                  <label for="jaccard_index" class="radio_label">Jaccard index</label>
                </div>
                <div class="radio-container">
                  <input type="radio" class="form-radio" name="weight-type" value="intersection_size"
                         id="intersection_size">
                  <label for="intersection_size" class="radio_label">Overlap size</label>
                </div>
              </form>
            </div>

            <!--  Compute and Reset buttons -->
            <div class="button-container">
              <input type="button" class="btn btn-outline-dark btn-block ui-form-button" id="graph_loader"
                     value="Compute Barcode">
              <input type="button" class="btn btn-outline-dark btn-block ui-form-button" id="reset_config"
                     value="Reset Configuration">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- 
<script type="text/javascript" src="js/draw_barcode.js"></script>
<script type="text/javascript" src="js/draw_hypergraph.js"></script>
<script type="text/javascript" src="js/draw_linegraph.js"></script>
<script type="text/javascript">
    window.onload = function () {
        draw_barcode();
        draw_hypergraph();
        toggle_hgraph_labels();
        draw_linegraph();
    };
</script> -->
</body>
</html>